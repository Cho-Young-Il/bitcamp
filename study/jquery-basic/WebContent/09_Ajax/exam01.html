<!-- 
	
	$.ajax({options})
	
	url  : 호출할 URL
	type : GET, POST 방식 지정
	data : 파라미터
	dataType : 응답되는 데이터의 형태
	
	// 1.7 까지 사용
	success : 응답이 성공했을때 호출
	error	: 에러 발생시 호출
	 
	// 1.8부터 사용 권장
	done : 응답 성공시 호출
	fail : 에러 발생시 호출
	always : 항상 호출
	
	
	
 -->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../jquery-2.2.0.js"></script>
<script>


//문서가 로딩된 다음
	

	$(function(){

		$("button").click(function(){
		
			/*
			$.ajax({
				url : "data/test.html",
				type: "GET"						
			})
			.done(function(data){//test.html 실행하고 실행한 결과값을 done에 넘겨준다.(data로받음)
				$("#resultDiv").html(data);
			});
			//===============================================
				2. done 
					- data : 실행 결과
					- status : 실행 결과 메시지
					- jqXHR : XMLHttpRequest 객체
					
				 dataType : 실행 결과의 문서 타입
					
			$.ajax({
				url : "data/test.html",
				type: "POST",
				dataType:"html" // json,xml,html
				
			})							//Httprequest 
			.done(function(data,status,jqXHR){
				$("#resultDiv").html(data);
				console.log("status",status);
				console.log("jqXHR");
				console.log(jqXHR);
			});
			//===============================================
			
				3. fail
				- jqXHR : XMLHttpRquest 객체
				- textStatus : error 문자열
				- errorText : 실제 발생한 에러의 내용을 반환
				
			$.ajax({
				url : "data/test.html1",
				type: "POST",
				dataType:"html" // json,xml,html
				
			})							//Httprequest 
			.done(function(data,status,jqXHR){
				$("#resultDiv").html(data);
				console.log("status",status);
				console.log("jqXHR");
				console.log(jqXHR);
			})				//      에러정보//에러상세정보
			.fail(function(jqXHR,textStatus,errorText){
				console.log("jqXHR ");
				console.log(jqXHR);
				console.log("textStatus",textStatus);
				console.log("errorText",errorText);
			});
			//===============================================
				4. data :파라미터 값을 설정할 때 
				(받는쪽 $(param.id)   $(param.name) 으로받을수있음)
				
			$.ajax({
				url : "data/param.jsp",
				type: "POST",
				data : {id:"tester",name : "테스터" },				
				dataType:"html" // json,xml,html
			})							//Httprequest 
			.done(function(data,status,jqXHR){
				$("#resultDiv").html(data);
				console.log("status",status);
				console.log("jqXHR");
				console.log(jqXHR);
			})				//      에러정보//에러상세정보
			.fail(function(jqXHR,textStatus,errorText){
				console.log("jqXHR ");
				console.log(jqXHR);
				console.log("textStatus",textStatus);
				console.log("errorText",errorText);
			});
			//===============================================
				5. dataType
					- json : 데이터가 json형태의 문자열일 경우 사용
							: 자동으로 문자열을 json객체로 변환시킨다.
					- xml	: 데이터가 xml형태의 문자열일 경우
							: 자동으로 문자열을 dom 객체로 변환시킨다.
				
			$.ajax({
				url : "data/resJson.jsp",
				type: "GET",
				dataType:"json"
			})							
			.done(function(data,status,jqXHR){
				console.log(data);
				$("#resultDiv").html(
						"name : " + data.name + "<br />"+
						"age : " + data.age + "<br />"+
						"addr : " + data.addr + "<br />");
				//json형태가 되면서 자동 객체가 만들어지고 data.name 으로 key값에 대한 value값을 가져올수있다.
			})
			
			*/	
			
			//===============================================
			  //6. always 항상 호출
			  
			$.ajax({
				url : "data/resJson.jsp",
				type: "GET",
				dataType:"json"
			})							
			.done(function(data,status,jqXHR){
				console.log(data);
				$("#resultDiv").html(
						"name : " + data.name + "<br />"+
						"age : " + data.age + "<br />"+
						"addr : " + data.addr + "<br />");
				//json형태가 되면서 자동 객체가 만들어지고 data.name 으로 key값에 대한 value값을 가져올수있다.
			})
			.always(function() {
				alert("무조건 실행함..");
			})
		})	
	});
	
	

	
</script>
</head>
<body>
	<button>Ajax 호출</button>
	<div id="resultDiv"></div>
</body>
</html>