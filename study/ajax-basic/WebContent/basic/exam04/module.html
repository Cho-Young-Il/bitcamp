<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="/ajax-basic/frameword.js"></script>
<script>
	window.onload = function() {
		$("#clearBtn").click(function() {
			//id가 debug인 것을 지운다.
			$("#debug").val("");
		});

		$("#sendBtn1").click(function() {
			$.ajax({
				url: "/ajax-basic/exam04/module",
				method: "GET",
				callback: callbackFn,
				data: {
					id: $("#input1").val(),
					name: $("#input2").val(),
					email: $("#input3").val()
				}
			});
		});

		$("#sendBtn2").click(function() {
			$.ajax({
				url: "/ajax-basic/exam04/module",
				method: "POST",
				callback: callbackFn,
				data: {
					id: $("#input1").val();
					name: $("#input2").val();
					email: $("#input3").val();
				}
			});
		});

		function callbackFn() {
			switch(httpRequest.readyState) {
			case 1 :
				$("#debug").val($("#debug").val() + "loading\n");
				break;
			case 2 :
				$("#debug").val($("#debug").val() + "loaded\n");
				break;
			case 3 :
				$("#debug").val($("#debug").val() + "Interactive\n");
				break;
			case 4 :
				$("#debug").val($("#debug").val() + "Complete\n");
				
				if(httpRequest.status == 200) {
					//정상 처리됨
					$("#debug").val($("#debug").val() + "정상적으로 처리됨\n");
					$("#debug").val($("#debug").val() + "넘어온 메시지 : " + httpRequest.responseText + "\n");
				} else {
					//비정상적으로 처리됨
					$("#debug").val($("#debug").val() + "비정상적으로 처리됨\n");
					$("#debug").val($("#debug").val() + "오류 코드 : " + httpRequest.status + "\n");
					$("#debug").val($("#debug").val() + "오류 메시지 : " + httpRequest.statusText + "\n");
				}
				break;
			}
		}
	}
</script>
<title>Insert title here</title>
</head>
<body>
	<textarea rows="10" cols="80" id="debug"></textarea>
	<br />
	<p>
		id : <input type="text" id="input1" size="20"/>
		name : <input type="text" id="input2" size="20"/>
		email : <input type="text" id="input3" size="20"/>
	</p>
	<button id="clearBtn">초기화</button>
	<button id="sendBtn1">GET</button>
	<button id="sendBtn2">POST</button>
</body>
</html>